class Espece_Hypothetique:
    def __init__(self, nomE: str, nomSci: str):
        """
        Création de la classe Espece
        attributs:
        nomE -> nom de l'espèce hypothétique
        nomSci -> nom scientifique de l'espèce hypothétique
        enfants -> les espèces enfant de l'espèce hypothétique
        """
        self.nomE = nomE
        self.nomSci = nomSci
        self.enfants = []
    
    # implémentation des getters et des setters
    def get_nom(self) -> str:
        return self.nomE
    
    def get_nomSci(self) -> str:
        return self.nomSci

    def enfants(self):
        return self.enfants
    
    def set_nom(self, nomE):
        self.nomE = nomE
    
    def set_nomSci(self, nomSci):
        self.nomSci = nomSci
    
    def add_enfants(self, enfant):
        self.enfants.append(enfant)
    
    def remove_enfant(self, enfant):
        self.enfants.remove(enfant)

    def __str__(self):
        return self._build_tree_string()

    def _build_tree_string(self, prefix="", is_last=True):
        """Méthode récursive pour construire la représentation en arbre."""
        # Importer ici pour éviter une importation circulaire
        from espece_averee import Espece_Averee
        
        # Détermine le type d'espèce pour l'affichage
        type_espece = "avérée" if isinstance(self, Espece_Averee) else "hypothétique"

        # Construit la ligne pour le noeud actuel
        line = f"{prefix}{'└── ' if is_last else '├── '}L'espèce {type_espece} {self.get_nom()} ({self.get_nomSci()})"

        # Prépare le préfixe pour les enfants
        child_prefix = prefix + ("    " if is_last else "│   ")
        
        # Ajoute les enfants de manière récursive
        children_count = len(self.enfants)
        for i, enfant in enumerate(self.enfants):
            is_child_last = (i == children_count - 1)
            line += "\n" + enfant._build_tree_string(child_prefix, is_child_last)
            
        return line