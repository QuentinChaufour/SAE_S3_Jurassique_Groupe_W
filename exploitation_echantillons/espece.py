class EspeceHypothetique:
    """
    Espece Hypothétique
    Une espèce représentant un ancêtre commun à plusieurs espèces
    elle ne possède pas de génome
    """

    def __init__(self, nom_e: str, nom_sci: str):
        """
        Création de la classe Espece
        attributs:
        nom_e -> nom de l'espèce hypothétique
        nom_sci -> nom scientifique de l'espèce hypothétique
        enfants -> les espèces enfant de l'espèce hypothétique
        """
        self.nom_e = nom_e
        self.nom_sci = nom_sci
        self.enfants = []

    # implémentation des getters et des setters
    def get_nom(self) -> str:
        return self.nom_e

    def get_nom_sci(self) -> str:
        return self.nom_sci

    def get_enfants(self):
        return self.enfants

    def set_nom(self, nom_e):
        self.nom_e = nom_e

    def set_nom_sci(self, nom_sci):
        self.nom_sci = nom_sci

    def add_enfants(self, enfant):
        self.enfants.append(enfant)

    def remove_enfant(self, enfant):
        self.enfants.remove(enfant)

    def get_type_espece(self) -> str:
        return "hypothétique"

    def __str__(self):
        return self._build_tree_string()

    def _build_tree_string(self, prefix="", is_last=True) -> str:
        """Méthode récursive pour construire la représentation en arbre."""

        # Détermine le type d'espèce pour l'affichage
        type_espece = self.get_type_espece()
        # Construit la ligne pour le noeud actuel
        line = f"{prefix}{'└── ' if is_last else '├── '}L'espèce {type_espece} {self.get_nom()}"

        # Prépare le préfixe pour les enfants
        child_prefix = prefix + ("    " if is_last else "│   ")

        # Ajoute les enfants de manière récursive
        children_count = len(self.enfants)
        for i, enfant in enumerate(self.enfants):
            is_child_last = i == children_count - 1
            line += "\n" + enfant._build_tree_string(child_prefix,
                                                     is_child_last)

        return line
